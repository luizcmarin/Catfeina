# =============================================================================
# Arquivo: .github/dependabot.yml
# Descrição: Configuração do Dependabot para o projeto Catfeina (XML/Views).
# =============================================================================

version: 2
updates:
  # --- Atualizações para dependências Gradle (via libs.versions.toml) ---
  - package-ecosystem: "gradle"
    directory: "/" # Raiz do projeto, onde o Dependabot procurará por builds Gradle
    schedule:
      interval: "daily" # Verifica por atualizações diariamente
    open-pull-requests-limit: 10 # Limite de PRs abertos para Gradle
    reviewers:
      - "luizcmarin" # Seu nome de usuário GitHub para revisão
    assignees:
      - "luizcmarin" # Seu nome de usuário GitHub para atribuição
    commit-message:
      prefix: "deps(gradle)"
      include: "scope"
    labels:
      - "dependencies"
      - "gradle"
    # Agrupamentos para reduzir o número de PRs de dependências Gradle
    groups:
      # Agrupa bibliotecas AndroidX relevantes para um projeto XML/Views
      androidx:
        patterns:
          - "androidx.core*" # ex: core-ktx
          - "androidx.lifecycle*" # ex: lifecycle-viewmodel-ktx, lifecycle-livedata-ktx
          - "androidx.activity:activity-ktx" # Se usar activity-ktx diretamente
          - "androidx.fragment*" # ex: fragment-ktx
          - "androidx.appcompat*" # Essencial para Views
          - "androidx.navigation:navigation-*" # Cobre navigation-fragment-ktx e navigation-ui-ktx
          - "androidx.room*"
          - "androidx.datastore*"
          - "androidx.test.espresso*" # Para testes de UI com Espresso
          - "androidx.test.ext:junit*" # Para testes instrumentados
          - "androidx.test:runner"
          - "androidx.test:rules"
          # REMOVIDO: "androidx.compose*" (e outros padrões específicos do Compose)
          # REMOVIDO: "androidx.hilt*" (se era específico para hilt-navigation-compose)
          # Adicione outros padrões androidx se necessário para Views

      # Agrupa bibliotecas Kotlin
      kotlin:
        patterns:
          - "org.jetbrains.kotlin*"
          - "com.google.devtools.ksp*"
          # exclude-patterns:
          # - "org.jetbrains.kotlin.jvm" # Exemplo

      # Agrupa bibliotecas Dagger Hilt
      hilt:
        patterns:
          - "com.google.dagger:hilt-android" # Principal dependência do Hilt
          - "com.google.dagger:hilt-compiler" # Compilador do Hilt
        # androidx.hilt.navigation.compose não é mais relevante

      # Agrupa ferramentas de build como AGP
      android-build-tools:
        patterns:
          - "com.android.tools.build*" # Para o Android Gradle Plugin

      # Outras bibliotecas comuns (exemplo, ajuste conforme seu projeto)
      common-libraries:
        patterns:
          - "com.airbnb.android:lottie" # Versão do Lottie para Views
          - "io.coil-kt:coil"          # Versão base do Coil
          - "com.jakewharton.timber:timber"
          # Adicione outras libs que você usa, como Material Components (com.google.android.material:material)
          # se quiser agrupá-las separadamente ou se não estiverem cobertas por androidx.
          - "com.google.android.material:material"

  # --- Atualizações para GitHub Actions ---
  - package-ecosystem: "github-actions"
    directory: "/" # Verifica workflows na raiz do repositório (e subdiretórios .github/workflows)
    schedule:
      interval: "daily"
    open-pull-requests-limit: 5 # Limite de PRs abertos para GitHub Actions
    reviewers:
      - "luizcmarin"
    assignees:
      - "luizcmarin"
    commit-message:
      prefix: "chore(actions)"
      include: "scope"
    labels:
      - "github_actions"
      - "dependencies"
    # Agrupa atualizações comuns de actions para reduzir ruído
    groups:
      common-actions:
        patterns:
          - "actions/checkout"
          - "actions/setup-java"
          - "gradle/actions/setup-gradle"
          - "reactivecircus/android-emulator-runner" # Se você usa para testes instrumentados
          - "actions/upload-artifact"
          - "github/codeql-action/*" # Se você usa CodeQL
          - "stefanzweifel/git-auto-commit-action"
          # Adicione outras actions que você usa frequentemente

# --- Configurações Globais do Dependabot (Opcional) ---
# ... (sem alterações aqui, mantenha se não estiver usando)

# --- Configurações de Segurança do Dependabot ---
# ... (sem alterações aqui, mantenha como está)
